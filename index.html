<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Sete - Gerador Manual + Minimalista</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="./css/styles.css">
    <script src="./js/scripts.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        supersete: '#A9CF46',
                        'supersete-light': '#C6E085',
                        'supersete-dark': '#708E25',
                        'supersete-bg': '#F6FAEB',
                        'supersete-green': '#B3D55D',
                        'supersete-green-light': '#D9EAAE',
                        'supersete-green-dark': '#405115'
                    }
                }
            }
        }
    </script>
    <style>
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .coluna-sete {
            background: linear-gradient(135deg, #F6FAEB, #ECFRD6);
            border: 3px solid #A9CF46;
            border-radius: 12px;
            padding: 16px;
            margin: 8px;
            transition: all 0.3s;
        }

        .coluna-sete.completa {
            background: linear-gradient(135deg, #D0E59A, #C6E085);
            border-color: #708E25;
            box-shadow: 0 4px 12px rgba(169, 207, 70, 0.3);
        }

        .coluna-header {
            background: linear-gradient(135deg, #A9CF46, #B3D55D);
            color: #405115;
            padding: 8px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            margin-bottom: 12px;
        }

        .digito-sete {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #A9CF46, #B3D55D);
            color: #405115;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
            margin: 4px;
        }

        .digito-sete:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(169, 207, 70, 0.4);
        }

        .digito-sete.selecionado {
            background: linear-gradient(135deg, #dc2626, #ef4444);
            box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.3);
            border-color: #dc2626;
            color: white;
        }

        .digito-sete.sorteado {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            border: 2px solid #fbbf24;
            position: relative;
            color: white;
        }

        .digito-sete.sorteado::after {
            content: "üéØ";
            position: absolute;
            top: -8px;
            right: -8px;
            font-size: 12px;
        }

        .digito-resultado {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #A9CF46, #B3D55D);
            color: #405115;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            margin: 0 4px;
            border: 3px solid #708E25;
        }

        .contador-destaque { animation: bounce 1s ease-in-out; }
        .meta-atingida {
            background: linear-gradient(45deg, #10b981, #34d399) !important;
            color: white;
            animation: pulse 1s infinite;
        }

        .jogo-card {
            background: linear-gradient(to right, #F6FAEB, #ECFRD6);
            border: 2px solid #A9CF46;
            border-radius: 12px;
            padding: 16px;
            margin: 8px 0;
        }

        .digito-jogo {
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #A9CF46, #B3D55D);
            color: #405115;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            margin: 0 2px;
        }

        .digito-minimalista {
            width: 30px;
            height: 30px;
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 12px;
            margin: 0 1px;
        }

        .jogo-minimalista-card {
            background: linear-gradient(to right, #faf5ff, #f3e8ff);
            border: 2px solid #8b5cf6;
            border-radius: 12px;
            padding: 12px;
            margin: 8px 0;
        }

        .input-manual {
            min-height: 80px;
            border: 3px dashed #8b5cf6;
            border-radius: 12px;
            background: linear-gradient(135deg, #faf5ff, #f3e8ff);
            padding: 16px;
            color: #8b5cf6;
            font-weight: bold;
        }

        .input-manual:focus {
            outline: none;
            border-color: #7c3aed;
            background: linear-gradient(135deg, #f3e8ff, #e9d5ff);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

		.regra-item {
			background: linear-gradient(135deg, #f0fdf4, #dcfce7);
			border: 2px solid #10b981;
			border-radius: 8px;
			padding: 8px;      /* Reduzido de 12px para 8px */
			margin: 6px 0;     /* Reduzido de 8px para 6px */
			transition: all 0.3s;
		}
        .regra-item:hover {
            border-color: #059669;
            transform: scale(1.01);
        }

        .regra-item.ativa {
            background: linear-gradient(135deg, #dcfce7, #bbf7d0);
            border-color: #059669;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);
        }

        .config-principal {
            background: linear-gradient(135deg, #D9EAAE, #C6E085);
            border: 3px solid #405115;
            border-radius: 16px;
            margin-bottom: 24px;
        }

        .config-header {
            background: linear-gradient(135deg, #A9CF46, #B3D55D);
            color: #405115;
            padding: 12px 20px;
            border-radius: 12px 12px 0 0;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: bold;
        }

        .config-content {
            background: linear-gradient(135deg, #F6FAEB, #ECFRD6);
            padding: 20px;
            border-radius: 0 0 12px 12px;
        }

        .valor-input {
            background: white;
            border: 2px solid #405115;
            border-radius: 8px;
            padding: 8px 12px;
            font-weight: bold;
            font-size: 16px;
            color: #A9CF46;
            width: 120px;
            text-align: center;
        }

        .valor-input:focus {
            outline: none;
            border-color: #B3D55D;
            box-shadow: 0 0 0 3px rgba(179, 213, 93, 0.1);
        }

        .btn-atualizar {
            background: linear-gradient(135deg, #dc2626, #ef4444);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: bold;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-atualizar:hover {
            background: linear-gradient(135deg, #b91c1c, #dc2626);
            transform: scale(1.05);
        }

        .status-badge {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .grid-colunas {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 16px;
            margin: 20px 0;
        }

        .grid-digitos {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
        }

        .jogo-supersete {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            align-items: center;
            background: linear-gradient(135deg, #F6FAEB, #ECFRD6);
            padding: 12px;
            border-radius: 8px;
            border: 2px solid #A9CF46;
        }

        .coluna-jogo {
            text-align: center;
        }

        .coluna-titulo {
            font-size: 10px;
            font-weight: bold;
            color: #708E25;
            margin-bottom: 4px;
        }

        @media (max-width: 768px) {
            .grid-colunas { grid-template-columns: repeat(7, 1fr); gap: 8px; }
            .digito-sete { width: 35px; height: 35px; font-size: 14px; margin: 2px; }
            .digito-resultado { width: 40px; height: 40px; font-size: 14px; }
            .digito-jogo { width: 28px; height: 28px; font-size: 12px; }
            .grid-digitos { grid-template-columns: repeat(5, 1fr); gap: 4px; }
        }

        @media (max-width: 480px) {
            .grid-colunas { grid-template-columns: repeat(4, 1fr); }
            .digito-sete { width: 30px; height: 30px; font-size: 12px; }
        }
    </style>
</head>
<body class="bg-supersete-bg min-h-screen">
    <div class="container mx-auto px-4 py-6">
        <!-- Header -->
        <div class="text-center mb-6">
            <img src="https://i.postimg.cc/wBthkvvc/supersete.png" alt="Super Sete Logo" class="logo"><br />
            <p class="text-gray-600">Gerador Completo: Manual + Minimalista com 19 Regras Avan√ßadas</p>
            
            <!-- Bot√µes de Navega√ß√£o -->
            <div class="flex flex-wrap justify-center gap-2 mt-4">
                <button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm">
                    üîç An√°lise por Colunas
                </button>
                <button class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm">
                    üîÑ Resultados Alterados
                </button>
                <button class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm">
                    üìä Estrat√©gia Minimalista
                </button>
            </div>
        </div>

        <!-- ‚öôÔ∏è CONFIGURA√á√ÉO PRINCIPAL - VALORES DA SUPER SETE -->
        <div class="config-principal">
            <div class="config-header">
                <span>‚öôÔ∏è</span>
                <span>CONFIGURA√á√ÉO PRINCIPAL</span>
            </div>
            
            <div class="bg-supersete text-supersete-green-dark text-center py-2 font-bold">
                ‚öôÔ∏è CONFIGURA√á√ÉO PRINCIPAL - VALORES DA SUPER SETE
            </div>
            
            <div class="config-content">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    
                    <!-- Valor da Aposta Simples -->
                    <div class="bg-white rounded-lg p-4 border-2 border-amber-400">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-2xl">üí∞</span>
                            <span class="font-bold text-amber-800">Valor da Aposta Simples (7 d√≠gitos):</span>
                        </div>
                        <div class="flex items-center gap-3 mb-3">
                            <span class="text-xl font-bold text-amber-900">R$</span>
                            <input 
                                type="number" 
                                id="valorApostaSimples" 
                                class="valor-input" 
                                value="2.50" 
                                step="0.01" 
                                min="0.01"
                            >
                            <button id="atualizarValor" class="btn-atualizar">
                                üîÑ Atualizar
                            </button>
                        </div>
                        <div class="text-sm text-amber-700">
                            <strong>Padr√£o oficial:</strong> R$ 2,50 (CEF)
                        </div>
                    </div>

                    <!-- Caracter√≠sticas Especiais -->
                    <div class="bg-white rounded-lg p-4 border-2 border-blue-400">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-2xl">üéØ</span>
                            <span class="font-bold text-blue-800">Caracter√≠sticas Especiais:</span>
                        </div>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="font-medium">Colunas:</span>
                                <span class="text-blue-700 font-bold">7 colunas</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="font-medium">D√≠gitos por coluna:</span>
                                <span class="text-blue-700 font-bold">0, 1, 2, 3, 4, 5, 6, 7, 8, 9</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="font-medium">Acertos premiados:</span>
                                <span class="text-blue-700 font-bold">3, 4, 5, 6, 7</span>
                            </div>
                        </div>
                    </div>

                    <!-- Status do Sistema -->
                    <div class="bg-white rounded-lg p-4 border-2 border-green-400">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-2xl">üí°</span>
                            <span class="font-bold text-green-800">Status do Sistema:</span>
                        </div>
                        <div class="space-y-2">
                            <div>
                                <span class="status-badge">
                                    ‚úÖ Sistema configurado
                                </span>
                            </div>
                            <div class="text-sm text-green-700">
                                <strong>√öltima atualiza√ß√£o:</strong> <span id="ultimaAtualizacao">-</span><br>
                                <strong>Total de se√ß√µes:</strong> 2 (Manual + Minimalista)<br>
                                <strong>Formato:</strong> 1 d√≠gito por coluna (C1|C2|C3|C4|C5|C6|C7)
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Explica√ß√£o do Sistema -->
                <div class="mt-6 p-4 bg-gradient-to-r from-green-50 to-lime-50 border-2 border-green-300 rounded-lg">
                    <div class="flex items-start gap-2">
                        <span class="text-xl">üîß</span>
                        <div>
                            <div class="font-bold text-green-800 mb-2">Como funciona:</div>
                            <div class="text-sm text-green-700">
                                A Super Sete √© √∫nica! Voc√™ escolhe 1 d√≠gito (0-9) em cada uma das 7 colunas. Ganha com 3, 4, 5, 6 ou 7 acertos nas posi√ß√µes corretas. √â como uma senha de 7 d√≠gitos! Cada coluna √© independente.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- √öltimo Resultado -->
        <div id="ultimoResultado" class="hidden mb-6">
            <div class="bg-white rounded-lg shadow-lg overflow-hidden border-2 border-supersete">
                <div class="bg-supersete text-supersete-green-dark p-4 text-center">
                    <h2 id="tituloResultado" class="text-xl font-bold">Concurso</h2>
                    <div id="dataResultado" class="text-sm">üìÖ Data do sorteio</div>
                </div>
                
                <div class="p-6">
                    <!-- D√≠gitos Sorteados -->
                    <div class="text-center mb-4">
                        <h3 class="text-lg font-bold text-supersete mb-3">üéØ D√çGITOS SORTEADOS</h3>
                        <div class="grid grid-cols-7 gap-4 max-w-lg mx-auto mb-4">
                            <div class="text-center">
                                <div class="text-xs font-bold text-supersete-dark mb-1">COL 1</div>
                                <div id="digito1" class="digito-resultado">-</div>
                            </div>
                            <div class="text-center">
                                <div class="text-xs font-bold text-supersete-dark mb-1">COL 2</div>
                                <div id="digito2" class="digito-resultado">-</div>
                            </div>
                            <div class="text-center">
                                <div class="text-xs font-bold text-supersete-dark mb-1">COL 3</div>
                                <div id="digito3" class="digito-resultado">-</div>
                            </div>
                            <div class="text-center">
                                <div class="text-xs font-bold text-supersete-dark mb-1">COL 4</div>
                                <div id="digito4" class="digito-resultado">-</div>
                            </div>
                            <div class="text-center">
                                <div class="text-xs font-bold text-supersete-dark mb-1">COL 5</div>
                                <div id="digito5" class="digito-resultado">-</div>
                            </div>
                            <div class="text-center">
                                <div class="text-xs font-bold text-supersete-dark mb-1">COL 6</div>
                                <div id="digito6" class="digito-resultado">-</div>
                            </div>
                            <div class="text-center">
                                <div class="text-xs font-bold text-supersete-dark mb-1">COL 7</div>
                                <div id="digito7" class="digito-resultado">-</div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="statusResultado" class="text-lg font-bold mb-4 text-red-600 text-center">
                        <!-- Status ser√° inserido aqui -->
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                        <div id="premiacao7"></div>
                        <div id="premiacao6"></div>
                        <div id="premiacao5"></div>
                        <div id="premiacao4"></div>
                    </div>
                    
                    <div class="mt-4 text-center">
                        <div class="text-sm text-gray-600">Pr√≥ximo Sorteio: <span id="proximoConcurso">Concurso</span></div>
                        <div class="text-sm text-gray-600" id="dataProximoConcurso">Data</div>
                        <div class="text-2xl font-bold text-supersete mt-2" id="premioEstimado">Pr√™mio Estimado</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- LAYOUT REORGANIZADO: SE√á√ïES LADO A LADO -->
        
        <!-- Primeira linha: SE√á√ÉO 1 e SE√á√ÉO 2 lado a lado -->
        <div class="grid grid-cols-1 xl:grid-cols-2 gap-6 mb-6">
            
            <!-- üéÆ SE√á√ÉO 1: JOGO MANUAL COMPLETO -->
            <div class="bg-white rounded-lg shadow-lg p-6 border-2 border-supersete">
                <h3 class="text-xl font-bold text-supersete mb-4">üéÆ SE√á√ÉO 1: CRIA√á√ÉO MANUAL DE JOGOS</h3>

                <!-- Estrat√©gia por Colunas em Tempo Real -->
                <div class="mb-6 p-5 bg-gradient-to-br from-green-50 via-lime-50 to-yellow-50 border-4 border-supersete rounded-xl shadow-lg">
                    <div class="text-lg font-bold text-gray-800 mb-3 text-center">üéØ ESTRAT√âGIA: AN√ÅLISE POR COLUNAS</div>
                    
                    <!-- Padr√£o Hist√≥rico -->
                    <div class="mb-3 p-3 bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-orange-300 rounded-lg text-center">
                        <div class="text-sm font-bold text-orange-800 mb-1">üèÜ PADR√ÉO MAIS COMUM:</div>
                        <div class="text-lg font-bold text-orange-900 mb-1">
                            Distribui√ß√£o equilibrada entre 0-9
                        </div>
                        <div class="text-xs text-orange-700">
                            Cada coluna independente: 1 d√≠gito de 0 a 9 por coluna
                        </div>
                    </div>

                    <!-- √öltimo Sorteio -->
                    <div class="mb-3 p-2 bg-blue-100 border border-blue-300 rounded-lg text-center">
                        <div class="text-xs font-medium text-blue-800">üìä √öLTIMO SORTEIO:</div>
                        <div class="text-sm font-bold text-blue-900">
                            <span id="ultimoSorteioTexto">C1|C2|C3|C4|C5|C6|C7</span>
                        </div>
                    </div>
                    
                    <!-- Status das Colunas -->
                    <div class="grid grid-cols-7 gap-2 mb-3">
                        <div class="text-center p-2 bg-green-100 rounded border border-green-300">
                            <div class="text-lg font-bold text-green-600" id="statusCol1">-</div>
                            <div class="text-xs font-bold text-green-700">COL 1</div>
                        </div>
                        <div class="text-center p-2 bg-green-100 rounded border border-green-300">
                            <div class="text-lg font-bold text-green-600" id="statusCol2">-</div>
                            <div class="text-xs font-bold text-green-700">COL 2</div>
                        </div>
                        <div class="text-center p-2 bg-green-100 rounded border border-green-300">
                            <div class="text-lg font-bold text-green-600" id="statusCol3">-</div>
                            <div class="text-xs font-bold text-green-700">COL 3</div>
                        </div>
                        <div class="text-center p-2 bg-green-100 rounded border border-green-300">
                            <div class="text-lg font-bold text-green-600" id="statusCol4">-</div>
                            <div class="text-xs font-bold text-green-700">COL 4</div>
                        </div>
                        <div class="text-center p-2 bg-green-100 rounded border border-green-300">
                            <div class="text-lg font-bold text-green-600" id="statusCol5">-</div>
                            <div class="text-xs font-bold text-green-700">COL 5</div>
                        </div>
                        <div class="text-center p-2 bg-green-100 rounded border border-green-300">
                            <div class="text-lg font-bold text-green-600" id="statusCol6">-</div>
                            <div class="text-xs font-bold text-green-700">COL 6</div>
                        </div>
                        <div class="text-center p-2 bg-green-100 rounded border border-green-300">
                            <div class="text-lg font-bold text-green-600" id="statusCol7">-</div>
                            <div class="text-xs font-bold text-green-700">COL 7</div>
                        </div>
                    </div>
                    
                    <!-- Status da Estrat√©gia -->
                    <div id="statusEstrategia" class="text-center p-2 rounded-lg font-bold text-sm bg-gray-100 text-gray-700">
                        üéØ Selecione 1 d√≠gito em cada coluna
                    </div>
                </div>

                <!-- D√≠gitos Sorteados -->
                <div class="mb-4 p-3 bg-red-50 border-2 border-red-300 rounded-lg">
                    <div class="text-sm font-bold text-red-800 mb-2">üéØ √öltimos d√≠gitos sorteados:</div>
                    <div id="digitosSorteadosDisplay" class="text-center">
                        <span class="text-gray-500">Carregando...</span>
                    </div>
                    <div class="flex items-center mt-2">
                        <input type="checkbox" id="permitirSorteados" class="mr-2 scale-110">
                        <label for="permitirSorteados" class="text-red-800 text-sm font-medium">
                            üîì Permitir usar d√≠gitos j√° sorteados
                        </label>
                    </div>
                </div>

                <!-- Inser√ß√£o Manual -->
                <div class="mb-4">
                    <label class="block text-purple-600 font-medium mb-2 text-sm">‚úèÔ∏è Inser√ß√£o Manual de D√≠gitos:</label>
                    <input 
                        id="inputManual" 
                        class="w-full input-manual text-sm"
                        placeholder="Digite 7 d√≠gitos (0-9) separados por qualquer caractere: 1234567 ou 1,2,3,4,5,6,7 ou 1-2-3-4-5-6-7"
                        maxlength="20"
                    />
                    <div class="flex justify-between items-center mt-2 text-xs">
                        <span class="text-purple-600">üí° Dica: Digite 7 d√≠gitos de 0-9</span>
                        <button id="processarInput" class="bg-purple-500 hover:bg-purple-600 text-white px-3 py-1 rounded text-xs">
                            üìù Processar
                        </button>
                    </div>
                </div>

                <!-- Grid das 7 Colunas -->
                <div class="mb-4">
                    <label class="block text-supersete font-medium mb-2 text-sm">Selecione 1 D√≠gito em Cada Coluna:</label>
                    <div class="text-xs mb-2 text-gray-600">
                        <span class="text-supersete">‚óè</span> Verde = Dispon√≠vel | 
                        <span class="text-red-600">‚óè</span> Vermelho = Selecionado |
                        <span class="text-yellow-600">üéØ</span> J√° sorteados
                    </div>
                    
                    <div class="grid-colunas">
                        <!-- Coluna 1 -->
                        <div class="coluna-sete" id="coluna1">
                            <div class="coluna-header">COLUNA 1</div>
                            <div class="grid-digitos" id="gridCol1">
                                <!-- D√≠gitos 0-9 ser√£o gerados aqui -->
                            </div>
                        </div>
                        
                        <!-- Coluna 2 -->
                        <div class="coluna-sete" id="coluna2">
                            <div class="coluna-header">COLUNA 2</div>
                            <div class="grid-digitos" id="gridCol2">
                                <!-- D√≠gitos 0-9 ser√£o gerados aqui -->
                            </div>
                        </div>
                        
                        <!-- Coluna 3 -->
                        <div class="coluna-sete" id="coluna3">
                            <div class="coluna-header">COLUNA 3</div>
                            <div class="grid-digitos" id="gridCol3">
                                <!-- D√≠gitos 0-9 ser√£o gerados aqui -->
                            </div>
                        </div>
                        
                        <!-- Coluna 4 -->
                        <div class="coluna-sete" id="coluna4">
                            <div class="coluna-header">COLUNA 4</div>
                            <div class="grid-digitos" id="gridCol4">
                                <!-- D√≠gitos 0-9 ser√£o gerados aqui -->
                            </div>
                        </div>
                        
                        <!-- Coluna 5 -->
                        <div class="coluna-sete" id="coluna5">
                            <div class="coluna-header">COLUNA 5</div>
                            <div class="grid-digitos" id="gridCol5">
                                <!-- D√≠gitos 0-9 ser√£o gerados aqui -->
                            </div>
                        </div>
                        
                        <!-- Coluna 6 -->
                        <div class="coluna-sete" id="coluna6">
                            <div class="coluna-header">COLUNA 6</div>
                            <div class="grid-digitos" id="gridCol6">
                                <!-- D√≠gitos 0-9 ser√£o gerados aqui -->
                            </div>
                        </div>
                        
                        <!-- Coluna 7 -->
                        <div class="coluna-sete" id="coluna7">
                            <div class="coluna-header">COLUNA 7</div>
                            <div class="grid-digitos" id="gridCol7">
                                <!-- D√≠gitos 0-9 ser√£o gerados aqui -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bot√µes de A√ß√£o -->
                <div class="flex flex-wrap gap-2">
                    <button id="limparJogo" class="bg-gray-500 hover:bg-gray-600 text-white px-3 py-2 rounded-lg text-sm">
                        üóëÔ∏è Limpar
                    </button>
                    <button id="randomizarJogo" class="bg-purple-500 hover:bg-purple-600 text-white px-3 py-2 rounded-lg text-sm">
                        üé≤ Aleat√≥rio
                    </button>
                    <button id="adicionarJogo" class="bg-supersete hover:bg-supersete-dark text-white px-3 py-2 rounded-lg text-sm disabled:opacity-50" disabled>
                        ‚ûï Adicionar Jogo
                    </button>
                </div>
            </div>
            
            <!-- üßÆ SE√á√ÉO 2: GERA√á√ÉO MINIMALISTA -->
            <div class="bg-white rounded-lg shadow-lg p-6 border-2 border-purple-500">
                <h3 class="text-xl font-bold text-purple-600 mb-4">üßÆ SE√á√ÉO 2: GERA√á√ÉO MINIMALISTA</h3>

                <!-- Dados do Pr√≥ximo Sorteio -->
                <div class="mb-4 p-3 bg-blue-50 border-2 border-blue-300 rounded-lg">
                    <div class="text-sm font-bold text-blue-800 mb-2 text-center">üìä Dados do Pr√≥ximo Sorteio</div>
                    <div class="bg-white p-3 rounded-lg border border-blue-300">
                        <div class="grid grid-cols-2 gap-3 text-xs">
                            <div>
                                <div class="font-bold text-blue-800">üéØ Concurso:</div>
                                <div id="proximoConcursoNum" class="text-blue-700">Loading...</div>
                            </div>
                            <div>
                                <div class="font-bold text-blue-800">üìÖ Data:</div>
                                <div id="dataProximoSorteio" class="text-blue-700">Loading...</div>
                            </div>
                            <div>
                                <div class="font-bold text-blue-800">üí∞ Pr√™mio:</div>
                                <div id="premioEstimadoMin" class="text-blue-700">Loading...</div>
                            </div>
                            <div>
                                <div class="font-bold text-blue-800">üìà Status:</div>
                                <div id="statusAPIMin" class="text-blue-700">Carregando...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sele√ß√£o das Regras -->
                <div class="mb-4">
                    <div class="text-sm font-bold text-purple-800 mb-3">üìã Regras Minimalistas:</div>
                    
                    <div class="grid grid-cols-1 gap-2">
                        <!-- R1 - D√≠gitos Diretos -->
                        <div class="regra-item" id="regra1">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r1-direto" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R1 - D√≠gitos Diretos</div>
                                    <div class="text-xs text-green-700">Concurso, data limitados a 0-9</div>
                                </div>
                            </label>
                        </div>

                        <!-- R2 - Sequ√™ncias -->
                        <div class="regra-item" id="regra2">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r2-sequencias" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R2 - Sequ√™ncias</div>
                                    <div class="text-xs text-green-700">0123456, 1234567, etc.</div>
                                </div>
                            </label>
                        </div>

                        <!-- R3 - D√≠gitos Iguais -->
                        <div class="regra-item" id="regra3">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r3-iguais" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R3 - D√≠gitos Iguais</div>
                                    <div class="text-xs text-green-700">1111111, 2222222, etc.</div>
                                </div>
                            </label>
                        </div>

                        <!-- R4 - Alternados -->
                        <div class="regra-item" id="regra4">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r4-alternados" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R4 - Alternados</div>
                                    <div class="text-xs text-green-700">0101010, 1212121, etc.</div>
                                </div>
                            </label>
                        </div>

                        <!-- R5 - Fibonacci -->
                        <div class="regra-item" id="regra5">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r5-fibonacci" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R5 - Fibonacci</div>
                                    <div class="text-xs text-green-700">0112358 (Fibonacci mod 10)</div>
                                </div>
                            </label>
                        </div>

                        <!-- R6 - Pares/√çmpares -->
                        <div class="regra-item" id="regra6">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r6-parimpar" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R6 - Pares/√çmpares</div>
                                    <div class="text-xs text-green-700">Distribuir pares e √≠mpares</div>
                                </div>
                            </label>
                        </div>

                        <!-- R7 - M√∫ltiplos -->
                        <div class="regra-item" id="regra7">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r7-multiplos" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R7 - M√∫ltiplos</div>
                                    <div class="text-xs text-green-700">M√∫ltiplos de 2, 3, 5</div>
                                </div>
                            </label>
                        </div>

                        <!-- R8 - Primos -->
                        <div class="regra-item" id="regra8">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r8-primos" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R8 - N√∫meros Primos</div>
                                    <div class="text-xs text-green-700">2, 3, 5, 7 apenas</div>
                                </div>
                            </label>
                        </div>

                        <!-- R9 - Crescente/Decrescente -->
                        <div class="regra-item" id="regra9">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r9-ordem" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R9 - Crescente/Decrescente</div>
                                    <div class="text-xs text-green-700">0123456 ou 9876543</div>
                                </div>
                            </label>
                        </div>

                        <!-- R10 - Soma Espec√≠fica -->
                        <div class="regra-item" id="regra10">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r10-soma" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R10 - Soma Espec√≠fica</div>
                                    <div class="text-xs text-green-700">Soma dos 7 d√≠gitos = valor espec√≠fico</div>
                                </div>
                            </label>
                        </div>

                        <!-- R11 - Datas Importantes -->
                        <div class="regra-item" id="regra11">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r11-datas" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R11 - Datas Importantes</div>
                                    <div class="text-xs text-green-700">Usar d√≠gitos de datas especiais</div>
                                </div>
                            </label>
                        </div>

                        <!-- R12 - Espelhos -->
                        <div class="regra-item" id="regra12">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r12-espelhos" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R12 - Espelhos</div>
                                    <div class="text-xs text-green-700">1234321, 1221221, etc.</div>
                                </div>
                            </label>
                        </div>

                        <!-- R13 - Evitar Sorteados -->
                        <div class="regra-item" id="regra13">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r13-evitar" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R13 - Evitar Sorteados</div>
                                    <div class="text-xs text-green-700">Evitar d√≠gitos do √∫ltimo sorteio</div>
                                </div>
                            </label>
                        </div>

                        <!-- R14 - Extremos -->
                        <div class="regra-item" id="regra14">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r14-extremos" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R14 - Extremos</div>
                                    <div class="text-xs text-green-700">Focar em 0, 1, 8, 9</div>
                                </div>
                            </label>
                        </div>

                        <!-- R15 - Centro -->
                        <div class="regra-item" id="regra15">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r15-centro" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R15 - Centro</div>
                                    <div class="text-xs text-green-700">Focar em 3, 4, 5, 6</div>
                                </div>
                            </label>
                        </div>

                        <!-- R16 - Quadrados -->
                        <div class="regra-item" id="regra16">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r16-quadrados" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R16 - Quadrados</div>
                                    <div class="text-xs text-green-700">0, 1, 4, 9 (quadrados perfeitos)</div>
                                </div>
                            </label>
                        </div>

                        <!-- R17 - Filtros Inteligentes -->
                        <div class="regra-item" id="regra17">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r17-filtros" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R17 - Filtros Inteligentes</div>
                                    <div class="text-xs text-green-700">Evitar padr√µes imposs√≠veis</div>
                                </div>
                            </label>
                        </div>

                        <!-- R18 - Balanceamento -->
                        <div class="regra-item" id="regra18">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r18-balanceamento" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R18 - Balanceamento</div>
                                    <div class="text-xs text-green-700">Distribuir d√≠gitos equilibradamente</div>
                                </div>
                            </label>
                        </div>

                        <!-- R19 - Otimiza√ß√£o Final -->
                        <div class="regra-item" id="regra19">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r19-otimizacao" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R19 - Otimiza√ß√£o Final</div>
                                    <div class="text-xs text-green-700">Formata√ß√£o e valida√ß√£o final</div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="mt-3 p-2 bg-purple-50 border border-purple-200 rounded-lg">
                        <div class="text-xs text-purple-800">
                            <strong>üìã Regras selecionadas:</strong> <span id="contadorRegras">8</span> de 19 dispon√≠veis<br>
                            <strong>üí° Recomenda√ß√£o:</strong> Use pelo menos 5 regras para maior diversidade<br>
                            <strong>üéØ Especial:</strong> Regras otimizadas para 7 colunas (0-9)
                        </div>
                    </div>
                </div>
                
                <!-- Configura√ß√µes -->
                <div class="mb-4">
                    <label class="block text-purple-600 font-medium mb-2 text-sm">‚öôÔ∏è Configura√ß√µes:</label>
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="block text-xs font-medium">Quantidade:</label>
                            <select id="qtdJogosMin" class="w-full px-2 py-2 border border-gray-300 rounded-lg text-sm">
                                <option value="3">3 jogos</option>
                                <option value="5" selected>5 jogos</option>
                                <option value="7">7 jogos</option>
                                <option value="10">10 jogos</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-xs font-medium">Varia√ß√£o:</label>
                            <select id="variacaoMin" class="w-full px-2 py-2 border border-gray-300 rounded-lg text-sm">
                                <option value="baixa">Baixa</option>
                                <option value="media" selected>M√©dia</option>
                                <option value="alta">Alta</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Estrat√©gia -->
                <div class="mb-4">
                    <label class="block text-purple-600 font-medium mb-2 text-sm">üéØ Estrat√©gia:</label>
                    <select id="estrategiaMin" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm">
                        <option value="equilibrada" selected>üéØ Equilibrada (distribui√ß√£o uniforme)</option>
                        <option value="aleatorio">üé≤ Totalmente Aleat√≥rio</option>
                        <option value="pares">üìä Mais Pares (0,2,4,6,8)</option>
                        <option value="impares">üìä Mais √çmpares (1,3,5,7,9)</option>
                        <option value="extremos">üî• Extremos (0,1,8,9)</option>
                        <option value="centro">üéØ Centro (3,4,5,6)</option>
                        <option value="sequencial">üìà Sequencial</option>
                    </select>
                </div>
                
                <button id="gerarJogosMin" class="w-full bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg font-bold text-sm">
                    üöÄ Gerar Jogos Minimalistas
                </button>
                
                <div id="resultadosMin" class="mt-4 hidden">
                    <h4 class="font-bold text-purple-600 mb-2 text-sm">üéØ Jogos Gerados:</h4>
                    <div id="listaJogosMin" class="space-y-2 h-80 overflow-y-auto border-2 border-purple-200 rounded-lg p-3 bg-gray-50 shadow-inner">
                        <!-- Jogos minimalistas aparecer√£o aqui -->
                    </div>
                    <div class="mt-3 text-center">
                        <button id="adicionarTodosMin" class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm">
                            ‚ûï Adicionar Todos
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Segunda linha: MEUS JOGOS ocupando toda a largura -->
        <div class="space-y-6">
            <!-- Resumo e Controles -->
            <div class="bg-white rounded-lg shadow-lg p-6 border-2 border-supersete">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-supersete">üìã MEUS JOGOS</h3>
                    <div class="flex items-center gap-2">
                        <label class="flex items-center text-sm">
                            <input type="checkbox" id="mostrarFormatoColuna" class="mr-2" checked>
                            üìä Formato Colunas
                        </label>
                    </div>
                </div>

                <!-- Custo Total -->
                <div class="mb-4">
                    <div class="bg-gradient-to-r from-supersete to-supersete-dark text-white p-4 rounded-lg text-center">
                        <div class="text-2xl font-bold">üí∞ Total: <span id="custoTotal">R$ 0,00</span></div>
                        <div class="text-sm mt-1"><span id="totalJogos">0</span> jogo(s) adicionado(s) | Ganha com 3, 4, 5, 6 ou 7 acertos!</div>
                    </div>
                </div>

                <!-- Bot√µes de Download -->
                <div class="grid grid-cols-4 gap-2 mb-4">
                    <button id="downloadHTML" class="bg-orange-500 hover:bg-orange-600 text-white px-3 py-2 rounded-lg text-sm">
                        üåê HTML
                    </button>
                    <button id="downloadTXT" class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm" title="Gera arquivo TXT simples contendo apenas os d√≠gitos dos jogos, um jogo por linha">
                        üìÑ TXT
                    </button>
                    <button id="downloadXLSX" class="bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg text-sm">
                        üìä XLSX
                    </button>
                    <button id="limparTodos" class="bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg text-sm">
                        üóëÔ∏è Limpar
                    </button>
                </div>

                <!-- Lista dos Jogos -->
                <div class="bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto border">
                    <h4 class="font-bold text-gray-800 mb-4">Lista de Jogos:</h4>
                    <div id="listaJogos">
                        <p class="text-gray-500 text-center py-8">Nenhum jogo adicionado ainda</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ===== VARI√ÅVEIS GLOBAIS =====
        let ultimoResultado = null;
        let digitosSelecionados = Array(7).fill(null); // 7 colunas, cada uma com 1 d√≠gito ou null
        let meusJogos = [];
        let digitosSorteados = Array(7).fill(null);
        let permitirDigitosSorteados = false;
        
        const sistemaValores = {
            valorSimples: 2.50,
            obterValor: function() {
                return this.valorSimples; // Super Sete s√≥ tem um valor fixo
            },
            atualizarValorSimples: function(novoValor) {
                this.valorSimples = parseFloat(novoValor);
                this.atualizarInterfaceValores();
            },
            atualizarInterfaceValores: function() {
                // Atualizar timestamp
                document.getElementById('ultimaAtualizacao').textContent = new Date().toLocaleString('pt-BR');
                
                // RECALCULAR CUSTOS DOS JOGOS EXISTENTES
                meusJogos.forEach(jogo => {
                    jogo.custo = this.obterValor();
                });
                
                // Atualizar visualiza√ß√£o dos jogos
                atualizarVisualizacaoJogos();
                
                // Recalcular custo total dos jogos
                atualizarCustoTotal();
            }
        };

        // ===== DADOS DE EXEMPLO (caso API falhe) =====
        const DADOS_EXEMPLO = {
            numero: 520,
            dataApuracao: "20/01/2025",
            dataProximoConcurso: "22/01/2025",
            listaDezenas: ["3", "7", "1", "9", "2", "5", "8"], // 7 d√≠gitos
            acumulado: false,
            valorEstimadoProximoConcurso: 200000.00,
            listaRateioPremio: [
                { descricaoFaixa: "7 acertos", numeroDeGanhadores: 1, valorPremio: 150000.00 },
                { descricaoFaixa: "6 acertos", numeroDeGanhadores: 25, valorPremio: 1500.00 },
                { descricaoFaixa: "5 acertos", numeroDeGanhadores: 450, valorPremio: 25.00 },
                { descricaoFaixa: "4 acertos", numeroDeGanhadores: 5200, valorPremio: 5.00 },
                { descricaoFaixa: "3 acertos", numeroDeGanhadores: 45000, valorPremio: 2.00 }
            ]
        };

        // ===== INICIALIZA√á√ÉO =====
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                await carregarUltimoResultado();
            } catch (error) {
                console.log('Usando dados de exemplo para Super Sete');
                usarDadosExemplo();
            }
            
            inicializarInterface();
            configurarEventListeners();
            inicializarConfiguracaoPrincipal();
        });

        function inicializarConfiguracaoPrincipal() {
            // Inicializar timestamp
            document.getElementById('ultimaAtualizacao').textContent = new Date().toLocaleString('pt-BR');
            
            // Configurar eventos da se√ß√£o de configura√ß√£o
            document.getElementById('atualizarValor').addEventListener('click', () => {
                const novoValor = parseFloat(document.getElementById('valorApostaSimples').value);
                if (novoValor > 0) {
                    sistemaValores.atualizarValorSimples(novoValor);
                    showCustomAlert('‚úÖ Valores Atualizados', `Novo valor base: ${formatarMoeda(novoValor)}\n\nTodos os valores foram recalculados automaticamente!`);
                } else {
                    showCustomAlert('‚ö†Ô∏è Valor Inv√°lido', 'Insira um valor maior que zero!');
                }
            });
            
            // Inicializar valores na interface
            sistemaValores.atualizarInterfaceValores();
        }

        async function carregarUltimoResultado() {
            try {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 3000);
                
                const response = await fetch('https://servicebus2.caixa.gov.br/portaldeloterias/api/supersete', {
                    signal: controller.signal,
                    headers: { 'Accept': 'application/json' }
                });
                
                clearTimeout(timeoutId);
                
                if (response.ok) {
                    const data = await response.json();
                    if (data && data.numero && data.numero > 0) {
                        ultimoResultado = data;
                        exibirUltimoResultado(data);
                        return;
                    }
                }
                
                throw new Error('API n√£o retornou dados v√°lidos');
                
            } catch (error) {
                throw error;
            }
        }

        function usarDadosExemplo() {
            ultimoResultado = DADOS_EXEMPLO;
            exibirUltimoResultado(ultimoResultado);
        }

        function exibirUltimoResultado(data) {
            const digitos = data.listaDezenas || ["0", "0", "0", "0", "0", "0", "0"];
            
            document.getElementById('tituloResultado').textContent = `Concurso ${data.numero}`;
            document.getElementById('dataResultado').textContent = `üìÖ ${data.dataApuracao}`;

            // Exibir d√≠gitos sorteados
            for (let i = 0; i < 7; i++) {
                const elemento = document.getElementById(`digito${i+1}`);
                if (elemento) {
                    elemento.textContent = digitos[i] || "-";
                }
            }

            document.getElementById('statusResultado').textContent = data.acumulado ? 'ACUMULOU!' : 'TEVE GANHADOR!';

            if (data.listaRateioPremio && data.listaRateioPremio.length >= 4) {
                document.getElementById('premiacao7').innerHTML = `
                    <span class="text-supersete mr-2">üéØ</span>
                    <span>7 acertos: ${data.listaRateioPremio[0] ? data.listaRateioPremio[0].numeroDeGanhadores : 0} - ${formatarMoeda(data.listaRateioPremio[0] ? data.listaRateioPremio[0].valorPremio : 0)}</span>
                `;
                document.getElementById('premiacao6').innerHTML = `
                    <span class="text-supersete mr-2">üéØ</span>
                    <span>6 acertos: ${data.listaRateioPremio[1] ? data.listaRateioPremio[1].numeroDeGanhadores : 0} - ${formatarMoeda(data.listaRateioPremio[1] ? data.listaRateioPremio[1].valorPremio : 0)}</span>
                `;
                document.getElementById('premiacao5').innerHTML = `
                    <span class="text-supersete mr-2">üéØ</span>
                    <span>5 acertos: ${data.listaRateioPremio[2] ? data.listaRateioPremio[2].numeroDeGanhadores : 0} - ${formatarMoeda(data.listaRateioPremio[2] ? data.listaRateioPremio[2].valorPremio : 0)}</span>
                `;
                document.getElementById('premiacao4').innerHTML = `
                    <span class="text-supersete mr-2">üéØ</span>
                    <span>4 acertos: ${data.listaRateioPremio[3] ? data.listaRateioPremio[3].numeroDeGanhadores : 0} - ${formatarMoeda(data.listaRateioPremio[3] ? data.listaRateioPremio[3].valorPremio : 0)}</span>
                `;
            }

            document.getElementById('proximoConcurso').textContent = `Concurso ${data.numero + 1}`;
            document.getElementById('dataProximoConcurso').textContent = data.dataProximoConcurso || 'A definir';
            document.getElementById('premioEstimado').textContent = formatarMoeda(data.valorEstimadoProximoConcurso || 200000);

            // Dados se√ß√£o minimalista
            document.getElementById('proximoConcursoNum').textContent = data.numero + 1;
            document.getElementById('dataProximoSorteio').textContent = data.dataProximoConcurso || 'A definir';
            document.getElementById('premioEstimadoMin').textContent = formatarMoeda(data.valorEstimadoProximoConcurso || 200000);
            document.getElementById('statusAPIMin').textContent = 'Dados carregados';

            identificarDigitosSorteados(digitos);
            exibirDigitosSorteados(digitos);
            
            document.getElementById('ultimoResultado').classList.remove('hidden');
        }

        function identificarDigitosSorteados(digitos) {
            digitosSorteados = digitos.map(d => parseInt(d));
            document.getElementById('ultimoSorteioTexto').textContent = digitos.join('|');
        }

        function exibirDigitosSorteados(digitos) {
            const displayDiv = document.getElementById('digitosSorteadosDisplay');
            displayDiv.innerHTML = `
                <div class="grid grid-cols-7 gap-2 text-center">
                    ${digitos.map((digito, index) => `
                        <div>
                            <div class="text-xs font-bold text-red-700">C${index+1}</div>
                            <span class="inline-block bg-red-500 text-white px-2 py-1 rounded font-bold">${digito}</span>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function inicializarInterface() {
            digitosSelecionados = Array(7).fill(null);
            criarGridsColunas();
            atualizarStatusColunas();
            configurarRegrasMinimalistas();
        }

        function criarGridsColunas() {
            for (let coluna = 1; coluna <= 7; coluna++) {
                const grid = document.getElementById(`gridCol${coluna}`);
                grid.innerHTML = '';
                
                for (let digito = 0; digito <= 9; digito++) {
                    const btn = document.createElement('button');
                    btn.className = 'digito-sete';
                    
                    if (digitosSorteados[coluna-1] === digito) {
                        btn.classList.add('sorteado');
                        if (!permitirDigitosSorteados) {
                            btn.disabled = true;
                        }
                    }
                    
                    btn.textContent = digito;
                    btn.onclick = () => selecionarDigito(coluna, digito);
                    btn.dataset.coluna = coluna;
                    btn.dataset.digito = digito;
                    
                    grid.appendChild(btn);
                }
            }
        }

        function configurarRegrasMinimalistas() {
            const checkboxes = document.querySelectorAll('.regra-checkbox');
            
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', atualizarContadorRegras);
            });
            
            atualizarContadorRegras();
        }

        function atualizarContadorRegras() {
            const checkboxes = document.querySelectorAll('.regra-checkbox:checked');
            document.getElementById('contadorRegras').textContent = checkboxes.length;
            
            document.querySelectorAll('.regra-item').forEach((item, index) => {
                const checkbox = item.querySelector('.regra-checkbox');
                if (checkbox && checkbox.checked) {
                    item.classList.add('ativa');
                } else {
                    item.classList.remove('ativa');
                }
            });
        }

        function configurarEventListeners() {
            // Checkbox d√≠gitos sorteados
            document.getElementById('permitirSorteados').addEventListener('change', (e) => {
                permitirDigitosSorteados = e.target.checked;
                criarGridsColunas();
                // Reselecionar d√≠gitos j√° selecionados
                digitosSelecionados.forEach((digito, coluna) => {
                    if (digito !== null) {
                        const btn = document.querySelector(`[data-coluna="${coluna+1}"][data-digito="${digito}"]`);
                        if (btn) btn.classList.add('selecionado');
                    }
                });
                atualizarStatusColunas();
            });

            // Input manual
            document.getElementById('processarInput').addEventListener('click', processarDigitosInput);

            // Bot√µes principais
            document.getElementById('limparJogo').addEventListener('click', limparSelecao);
            document.getElementById('randomizarJogo').addEventListener('click', randomizarJogo);
            document.getElementById('adicionarJogo').addEventListener('click', adicionarJogo);
            
            // Minimalista
            document.getElementById('gerarJogosMin').addEventListener('click', gerarJogosMinimalistas);
            document.getElementById('adicionarTodosMin').addEventListener('click', adicionarTodosJogosMinimalistas);
            
            // Controles
            document.getElementById('mostrarFormatoColuna').addEventListener('change', atualizarVisualizacaoJogos);
            document.getElementById('limparTodos').addEventListener('click', limparTodosJogos);
            
            // Downloads
            document.getElementById('downloadHTML').addEventListener('click', () => downloadJogos('html'));
            document.getElementById('downloadTXT').addEventListener('click', () => downloadJogos('txt'));
            document.getElementById('downloadXLSX').addEventListener('click', () => downloadJogos('xlsx'));
        }

        // ===== FUN√á√ïES PRINCIPAIS =====

        function selecionarDigito(coluna, digito) {
            const colunaIndex = coluna - 1;
            
            if (digitosSorteados[colunaIndex] === digito && !permitirDigitosSorteados) {
                showCustomAlert('‚ö†Ô∏è D√≠gito J√° Sorteado', `O d√≠gito ${digito} saiu na coluna ${coluna} no √∫ltimo concurso.`);
                return;
            }
            
            // Limpar sele√ß√£o anterior da coluna
            const gridAtual = document.getElementById(`gridCol${coluna}`);
            gridAtual.querySelectorAll('.digito-sete').forEach(btn => {
                btn.classList.remove('selecionado');
            });
            
            // Se clicou no mesmo d√≠gito j√° selecionado, deselecionar
            if (digitosSelecionados[colunaIndex] === digito) {
                digitosSelecionados[colunaIndex] = null;
            } else {
                // Selecionar novo d√≠gito
                digitosSelecionados[colunaIndex] = digito;
                const btn = document.querySelector(`[data-coluna="${coluna}"][data-digito="${digito}"]`);
                if (btn) btn.classList.add('selecionado');
            }
            
            atualizarStatusColunas();
            validarBotaoAdicionar();
        }

        function processarDigitosInput() {
            const input = document.getElementById('inputManual');
            const texto = input.value.trim();
            
            if (!texto) {
                showCustomAlert('‚ö†Ô∏è Campo Vazio', 'Digite 7 d√≠gitos primeiro!');
                return;
            }
            
            const digitosTexto = texto.match(/\d/g);
            if (!digitosTexto || digitosTexto.length !== 7) {
                showCustomAlert('‚ùå Erro', 'Digite exatamente 7 d√≠gitos (0-9)!');
                return;
            }
            
            const digitosValidos = digitosTexto.map(d => parseInt(d));
            
            // Verificar d√≠gitos sorteados
            for (let i = 0; i < 7; i++) {
                if (digitosSorteados[i] === digitosValidos[i] && !permitirDigitosSorteados) {
                    showCustomAlert('‚ö†Ô∏è D√≠gito J√° Sorteado', `O d√≠gito ${digitosValidos[i]} saiu na coluna ${i+1} no √∫ltimo concurso.`);
                    return;
                }
            }
            
            limparSelecao();
            
            // Aplicar os d√≠gitos
            digitosValidos.forEach((digito, coluna) => {
                digitosSelecionados[coluna] = digito;
                const btn = document.querySelector(`[data-coluna="${coluna+1}"][data-digito="${digito}"]`);
                if (btn) btn.classList.add('selecionado');
            });
            
            input.value = '';
            
            atualizarStatusColunas();
            validarBotaoAdicionar();
            
            showCustomAlert('‚úÖ Sucesso', '7 d√≠gitos aplicados!');
        }

        function atualizarStatusColunas() {
            let colunasCompletas = 0;
            
            for (let i = 0; i < 7; i++) {
                const statusElement = document.getElementById(`statusCol${i+1}`);
                const colunaElement = document.getElementById(`coluna${i+1}`);
                
                if (digitosSelecionados[i] !== null) {
                    statusElement.textContent = digitosSelecionados[i];
                    colunaElement.classList.add('completa');
                    colunasCompletas++;
                } else {
                    statusElement.textContent = '-';
                    colunaElement.classList.remove('completa');
                }
            }
            
            // Status da estrat√©gia
            const statusEl = document.getElementById('statusEstrategia');
            
            if (colunasCompletas === 0) {
                statusEl.textContent = 'üéØ Selecione 1 d√≠gito em cada coluna';
                statusEl.className = 'text-center p-2 rounded-lg font-bold text-sm bg-gray-100 text-gray-700';
            } else if (colunasCompletas < 7) {
                statusEl.textContent = `üìç Faltam ${7 - colunasCompletas} colunas`;
                statusEl.className = 'text-center p-2 rounded-lg font-bold text-sm bg-blue-100 text-blue-800';
            } else {
                const jogoTexto = digitosSelecionados.join('|');
                statusEl.textContent = `‚úÖ JOGO COMPLETO: ${jogoTexto}`;
                statusEl.className = 'text-center p-2 rounded-lg font-bold text-sm bg-green-200 text-green-800 meta-atingida';
            }
        }

        function validarBotaoAdicionar() {
            const btn = document.getElementById('adicionarJogo');
            const colunasCompletas = digitosSelecionados.filter(d => d !== null).length;
            btn.disabled = colunasCompletas !== 7;
        }

        function limparSelecao() {
            digitosSelecionados = Array(7).fill(null);
            document.querySelectorAll('.digito-sete').forEach(btn => {
                btn.classList.remove('selecionado');
            });
            atualizarStatusColunas();
            validarBotaoAdicionar();
        }

        function randomizarJogo() {
            limparSelecao();
            
            for (let coluna = 0; coluna < 7; coluna++) {
                let digitosDisponiveis = Array.from({length: 10}, (_, i) => i);
                
                if (!permitirDigitosSorteados && digitosSorteados[coluna] !== null) {
                    digitosDisponiveis = digitosDisponiveis.filter(d => d !== digitosSorteados[coluna]);
                }
                
                if (digitosDisponiveis.length > 0) {
                    const digito = digitosDisponiveis[Math.floor(Math.random() * digitosDisponiveis.length)];
                    digitosSelecionados[coluna] = digito;
                    
                    const btn = document.querySelector(`[data-coluna="${coluna+1}"][data-digito="${digito}"]`);
                    if (btn) btn.classList.add('selecionado');
                }
            }
            
            atualizarStatusColunas();
            validarBotaoAdicionar();
        }

        function adicionarJogo() {
            const custo = sistemaValores.obterValor();
            
            const jogo = {
                id: Date.now(),
                digitos: [...digitosSelecionados],
                custo: custo,
                pares: digitosSelecionados.filter(d => d % 2 === 0).length,
                impares: digitosSelecionados.filter(d => d % 2 !== 0).length,
                origem: 'Manual'
            };
            
            meusJogos.push(jogo);
            limparSelecao();
            atualizarVisualizacaoJogos();
            atualizarCustoTotal();
            
            showCustomAlert('‚úÖ Sucesso', 'Jogo adicionado com sucesso!\n\nGanha com 3, 4, 5, 6 ou 7 acertos!');
        }

        // ===== GERA√á√ÉO MINIMALISTA =====

        function gerarJogosMinimalistas() {
            const qtdJogos = parseInt(document.getElementById('qtdJogosMin').value);
            const variacao = document.getElementById('variacaoMin').value;
            const estrategia = document.getElementById('estrategiaMin').value;
            
            console.log('üéØ Configura√ß√£o Super Sete:', {qtdJogos, variacao, estrategia}); // Debug
            
            const regrasSelecionadas = [];
            document.querySelectorAll('.regra-checkbox:checked').forEach(checkbox => {
                regrasSelecionadas.push(checkbox.id);
            });
            
            if (regrasSelecionadas.length === 0) {
                showCustomAlert('‚ö†Ô∏è Nenhuma Regra', 'Selecione pelo menos uma regra minimalista!');
                return;
            }
            
            const jogosGerados = [];
            
            for (let i = 0; i < qtdJogos; i++) {
                const resultado = gerarJogoComRegrasSelecionadas(variacao, estrategia, regrasSelecionadas, i);
                console.log(`üéÆ Jogo ${i+1} gerado:`, resultado); // Debug
                
                jogosGerados.push({
                    id: Date.now() + i,
                    digitos: resultado,
                    custo: sistemaValores.obterValor(),
                    variacao: variacao,
                    estrategia: estrategia,
                    regras: regrasSelecionadas.length,
                    origem: `Minimalista (${regrasSelecionadas.length} regras)`
                });
            }
            
            exibirJogosMinimalistas(jogosGerados);
        }

        function gerarJogoComRegrasSelecionadas(variacao, estrategia, regras, indiceJogo = 0) {
            const digitosBase = [];
            const data = new Date();
            
            // Obter dados do contexto
            const concurso = ultimoResultado ? ultimoResultado.numero + 1 : 521;
            const ano = data.getFullYear();
            const mes = data.getMonth() + 1;
            const dia = data.getDate();
            
            // Adicionar varia√ß√£o baseada no √≠ndice do jogo
            const fatorVariacao = variacao === 'baixa' ? 1 : variacao === 'media' ? 3 : 7;
            const variador = indiceJogo * fatorVariacao + Math.floor(Math.random() * 10);
            
            // ===== REGRAS ESPEC√çFICAS PARA SUPER SETE =====
            
            // R1 - D√≠gitos Diretos
            if (regras.includes('r1-direto')) {
                const diaDigitos = dia.toString().padStart(2, '0').split('').map(d => parseInt(d));
                const mesDigitos = mes.toString().padStart(2, '0').split('').map(d => parseInt(d));
                const concursoDigitos = concurso.toString().split('').map(d => parseInt(d));
                
                digitosBase.push(...diaDigitos, ...mesDigitos, ...concursoDigitos);
            }
            
            // R2 - Sequ√™ncias
            if (regras.includes('r2-sequencias')) {
                const inicioSeq = (dia + indiceJogo) % 4; // 0-3
                for (let i = 0; i < 7; i++) {
                    digitosBase.push((inicioSeq + i) % 10);
                }
            }
            
            // R3 - D√≠gitos Iguais
            if (regras.includes('r3-iguais')) {
                const digitoEscolhido = (dia + mes + indiceJogo) % 10;
                for (let i = 0; i < 7; i++) {
                    digitosBase.push(digitoEscolhido);
                }
            }
            
            // R4 - Alternados
            if (regras.includes('r4-alternados')) {
                const digito1 = dia % 10;
                const digito2 = mes % 10;
                for (let i = 0; i < 7; i++) {
                    digitosBase.push(i % 2 === 0 ? digito1 : digito2);
                }
            }
            
            // R5 - Fibonacci
            if (regras.includes('r5-fibonacci')) {
                const fibonacci = [0, 1, 1, 2, 3, 5, 8];
                for (let i = 0; i < 7; i++) {
                    digitosBase.push(fibonacci[i] % 10);
                }
            }
            
            // R6 - Pares/√çmpares
            if (regras.includes('r6-parimpar')) {
                const pares = [0, 2, 4, 6, 8];
                const impares = [1, 3, 5, 7, 9];
                
                // Distribuir de forma equilibrada
                for (let i = 0; i < 7; i++) {
                    if (i % 2 === 0) {
                        digitosBase.push(pares[Math.floor(Math.random() * pares.length)]);
                    } else {
                        digitosBase.push(impares[Math.floor(Math.random() * impares.length)]);
                    }
                }
            }
            
            // R7 - M√∫ltiplos
            if (regras.includes('r7-multiplos')) {
                for (let i = 0; i < 7; i++) {
                    const multiplo = (i * 2) % 10; // M√∫ltiplos de 2
                    digitosBase.push(multiplo);
                }
            }
            
            // R8 - N√∫meros Primos
            if (regras.includes('r8-primos')) {
                const primos = [2, 3, 5, 7];
                for (let i = 0; i < 7; i++) {
                    digitosBase.push(primos[i % primos.length]);
                }
            }
            
            // R9 - Crescente/Decrescente
            if (regras.includes('r9-ordem')) {
                if (indiceJogo % 2 === 0) {
                    // Crescente
                    for (let i = 0; i < 7; i++) digitosBase.push(i + 1);
                } else {
                    // Decrescente
                    for (let i = 0; i < 7; i++) digitosBase.push(9 - i);
                }
            }
            
            // R10 - Soma Espec√≠fica
            if (regras.includes('r10-soma')) {
                const somaDesejada = (dia + mes) % 35 + 14; // 14-48
                const digitos = [];
                let somaAtual = 0;
                
                for (let i = 0; i < 6; i++) {
                    const digito = Math.floor(Math.random() * 10);
                    digitos.push(digito);
                    somaAtual += digito;
                }
                
                const ultimoDigito = Math.max(0, Math.min(9, somaDesejada - somaAtual));
                digitos.push(ultimoDigito);
                digitosBase.push(...digitos);
            }
            
            // R11 - Datas Importantes
            if (regras.includes('r11-datas')) {
                const datasEspeciais = [
                    [1, 5, 1, 1, 1, 8, 8, 9], // 15/11/1889 (Proclama√ß√£o da Rep√∫blica)
                    [0, 7, 0, 9, 1, 8, 2, 2], // 07/09/1822 (Independ√™ncia)
                    [2, 1, 0, 4, 1, 9, 6, 0]  // 21/04/1960 (Bras√≠lia)
                ];
                
                const dataEscolhida = datasEspeciais[indiceJogo % datasEspeciais.length];
                digitosBase.push(...dataEscolhida.slice(0, 7));
            }
            
            // R12 - Espelhos
            if (regras.includes('r12-espelhos')) {
                const centro = [1, 2, 3, 4][indiceJogo % 4];
                digitosBase.push(centro, centro+1, centro+2, centro+3, centro+2, centro+1, centro);
            }
            
            // R13 - Evitar Sorteados
            if (regras.includes('r13-evitar')) {
                const digitosEvitados = digitosSorteados.filter(d => d !== null);
                for (let i = 0; i < 7; i++) {
                    let digito;
                    do {
                        digito = Math.floor(Math.random() * 10);
                    } while (digitosEvitados.includes(digito));
                    digitosBase.push(digito);
                }
            }
            
            // R14 - Extremos
            if (regras.includes('r14-extremos')) {
                const extremos = [0, 1, 8, 9];
                for (let i = 0; i < 7; i++) {
                    digitosBase.push(extremos[Math.floor(Math.random() * extremos.length)]);
                }
            }
            
            // R15 - Centro
            if (regras.includes('r15-centro')) {
                const centro = [3, 4, 5, 6];
                for (let i = 0; i < 7; i++) {
                    digitosBase.push(centro[Math.floor(Math.random() * centro.length)]);
                }
            }
            
            // R16 - Quadrados
            if (regras.includes('r16-quadrados')) {
                const quadrados = [0, 1, 4, 9];
                for (let i = 0; i < 7; i++) {
                    digitosBase.push(quadrados[i % quadrados.length]);
                }
            }
            
            // Adicionar d√≠gitos aleat√≥rios para garantir varia√ß√£o
            for (let i = 0; i < 10; i++) {
                digitosBase.push(Math.floor(Math.random() * 10));
            }
            
            // Inicializar jogo final
            let jogoFinal = Array(7).fill(0);
            
            // R17 - Filtros Inteligentes
            if (regras.includes('r17-filtros')) {
                // Evitar repetir muitos d√≠gitos do √∫ltimo sorteio
                const digitosUltimo = digitosSorteados.filter(d => d !== null);
                let baseIndex = 0;
                
                for (let coluna = 0; coluna < 7; coluna++) {
                    let tentativas = 0;
                    let digito;
                    
                    do {
                        if (baseIndex < digitosBase.length) {
                            digito = digitosBase[baseIndex] % 10;
                            baseIndex++;
                        } else {
                            digito = Math.floor(Math.random() * 10);
                        }
                        tentativas++;
                    } while (tentativas < 5 && digitosUltimo[coluna] === digito);
                    
                    jogoFinal[coluna] = digito;
                }
            }
            
            // R18 - Balanceamento
            if (regras.includes('r18-balanceamento')) {
                // Aplicar estrat√©gia
                switch (estrategia) {
                    case 'equilibrada':
                        // Tentar ter variedade de d√≠gitos
                        const digitosUsados = new Set();
                        for (let coluna = 0; coluna < 7; coluna++) {
                            let digito;
                            let tentativas = 0;
                            do {
                                if (digitosBase.length > coluna) {
                                    digito = digitosBase[coluna] % 10;
                                } else {
                                    digito = Math.floor(Math.random() * 10);
                                }
                                tentativas++;
                            } while (tentativas < 3 && digitosUsados.has(digito) && digitosUsados.size < 7);
                            
                            digitosUsados.add(digito);
                            jogoFinal[coluna] = digito;
                        }
                        break;
                        
                    case 'pares':
                        const pares = [0, 2, 4, 6, 8];
                        for (let coluna = 0; coluna < 7; coluna++) {
                            jogoFinal[coluna] = pares[Math.floor(Math.random() * pares.length)];
                        }
                        break;
                        
                    case 'impares':
                        const impares = [1, 3, 5, 7, 9];
                        for (let coluna = 0; coluna < 7; coluna++) {
                            jogoFinal[coluna] = impares[Math.floor(Math.random() * impares.length)];
                        }
                        break;
                        
                    case 'extremos':
                        const extremos = [0, 1, 8, 9];
                        for (let coluna = 0; coluna < 7; coluna++) {
                            jogoFinal[coluna] = extremos[Math.floor(Math.random() * extremos.length)];
                        }
                        break;
                        
                    case 'centro':
                        const centro = [3, 4, 5, 6];
                        for (let coluna = 0; coluna < 7; coluna++) {
                            jogoFinal[coluna] = centro[Math.floor(Math.random() * centro.length)];
                        }
                        break;
                        
                    case 'sequencial':
                        const inicio = Math.floor(Math.random() * 4);
                        for (let coluna = 0; coluna < 7; coluna++) {
                            jogoFinal[coluna] = (inicio + coluna) % 10;
                        }
                        break;
                        
                    default:
                        for (let coluna = 0; coluna < 7; coluna++) {
                            jogoFinal[coluna] = Math.floor(Math.random() * 10);
                        }
                }
            } else {
                // Aplicar digitosBase sem balanceamento especial
                for (let coluna = 0; coluna < 7; coluna++) {
                    if (coluna < digitosBase.length) {
                        jogoFinal[coluna] = digitosBase[coluna] % 10;
                    } else {
                        jogoFinal[coluna] = Math.floor(Math.random() * 10);
                    }
                }
            }
            
            // R19 - Otimiza√ß√£o Final
            if (regras.includes('r19-otimizacao')) {
                // Garantir que todos os d√≠gitos est√£o na faixa 0-9
                jogoFinal = jogoFinal.map(d => Math.max(0, Math.min(9, d)));
                
                // Se for estrat√©gia sequencial, ajustar
                if (estrategia === 'sequencial') {
                    const inicio = jogoFinal[0];
                    for (let i = 0; i < 7; i++) {
                        jogoFinal[i] = (inicio + i) % 10;
                    }
                }
            }
            
            return jogoFinal;
        }

        function exibirJogosMinimalistas(jogos) {
            const resultadosDiv = document.getElementById('resultadosMin');
            const listaJogos = document.getElementById('listaJogosMin');
            
            listaJogos.innerHTML = '';
            
            jogos.forEach((jogo, index) => {
                const jogoDiv = document.createElement('div');
                jogoDiv.className = 'jogo-minimalista-card';
                
                const pares = jogo.digitos.filter(d => d % 2 === 0).length;
                const impares = jogo.digitos.filter(d => d % 2 !== 0).length;
                
                jogoDiv.innerHTML = `
                    <div class="flex justify-between items-center mb-2">
                        <span class="font-bold text-purple-600 text-sm">Jogo ${index + 1}</span>
                        <div class="flex gap-1">
                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded">${pares}P/${impares}I</span>
                            <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded">${jogo.estrategia}</span>
                            <span class="px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded">${jogo.regras}R</span>
                            <span class="px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded">${formatarMoeda(jogo.custo)}</span>
                            <button onclick="editarJogoMinimalistaPorId('${jogo.id}')" class="px-2 py-1 bg-yellow-500 hover:bg-yellow-600 text-white text-xs rounded transition-all duration-200 hover:scale-105" title="Editar jogo">
                                ‚úèÔ∏è
                            </button>
                            <button onclick="excluirJogoMinimalistaPorId('${jogo.id}')" class="px-2 py-1 bg-red-500 hover:bg-red-600 text-white text-xs rounded transition-all duration-200 hover:scale-105" title="Excluir jogo">
                                üóëÔ∏è
                            </button>
                        </div>
                    </div>
                    <div class="flex justify-center gap-1 mb-2">
                        ${jogo.digitos.map(digito => `<span class="digito-minimalista">${digito}</span>`).join('')}
                    </div>
                    <div class="text-xs text-gray-600 text-center">
                        ${jogo.digitos.join('|')} | ${jogo.regras} regras | Ganha com 3+ acertos nas posi√ß√µes
                    </div>
                `;
                
                listaJogos.appendChild(jogoDiv);
            });
            
            resultadosDiv.classList.remove('hidden');
            window.jogosMinimalistasGerados = jogos;
        }

        function adicionarTodosJogosMinimalistas() {
            if (!window.jogosMinimalistasGerados || window.jogosMinimalistasGerados.length === 0) {
                showCustomAlert('‚ö†Ô∏è Sem Jogos', 'Gere alguns jogos minimalistas primeiro!');
                return;
            }
            
            window.jogosMinimalistasGerados.forEach(jogoMin => {
                const jogo = {
                    id: Date.now() + Math.random(),
                    digitos: [...jogoMin.digitos],
                    custo: jogoMin.custo,
                    pares: jogoMin.digitos.filter(d => d % 2 === 0).length,
                    impares: jogoMin.digitos.filter(d => d % 2 !== 0).length,
                    origem: jogoMin.origem
                };
                meusJogos.push(jogo);
            });
            
            atualizarVisualizacaoJogos();
            atualizarCustoTotal();
            
            showCustomAlert('‚úÖ Sucesso', `${window.jogosMinimalistasGerados.length} jogo(s) adicionado(s)!\n\nGanha com 3, 4, 5, 6 ou 7 acertos!`);
        }

        // ===== VISUALIZA√á√ÉO E CONTROLES =====

        function atualizarVisualizacaoJogos() {
            const lista = document.getElementById('listaJogos');
            const formatoColuna = document.getElementById('mostrarFormatoColuna').checked;
            
            if (meusJogos.length === 0) {
                lista.innerHTML = '<p class="text-gray-500 text-center py-8">Nenhum jogo adicionado ainda</p>';
                return;
            }
            
            lista.innerHTML = '';
            meusJogos.forEach((jogo, index) => {
                const jogoDiv = document.createElement('div');
                jogoDiv.className = 'jogo-card';
                
                const jogoTexto = formatoColuna ? jogo.digitos.join('|') : jogo.digitos.join('');
                
                if (formatoColuna) {
                    // Formato por colunas
                    jogoDiv.innerHTML = `
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-bold text-supersete">Jogo ${index + 1}</span>
                            <div class="flex gap-2">
                                <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded">${jogo.pares || 0}P/${jogo.impares || 0}I</span>
                                <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded">7 d√≠gitos</span>
                                <button onclick="removerJogo(${jogo.id})" class="bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded text-xs">
                                    üóëÔ∏è
                                </button>
                            </div>
                        </div>
                        <div class="jogo-supersete mb-2">
                            ${jogo.digitos.map((digito, coluna) => `
                                <div class="coluna-jogo">
                                    <div class="coluna-titulo">C${coluna+1}</div>
                                    <div class="digito-jogo">${digito}</div>
                                </div>
                            `).join('')}
                        </div>
                        <div class="text-sm text-gray-600">
                            ${jogoTexto} - ${formatarMoeda(jogo.custo)} - Ganha com 3, 4, 5, 6, 7 acertos
                            ${jogo.origem ? `<span class="text-orange-600"> | ${jogo.origem}</span>` : ''}
                        </div>
                    `;
                } else {
                    // Formato simples
                    jogoDiv.innerHTML = `
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-bold text-supersete">Jogo ${index + 1}</span>
                            <div class="flex gap-2">
                                <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded">${jogo.pares || 0}P/${jogo.impares || 0}I</span>
                                <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded">7 d√≠gitos</span>
                                <button onclick="removerJogo(${jogo.id})" class="bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded text-xs">
                                    üóëÔ∏è
                                </button>
                            </div>
                        </div>
                        <div class="flex justify-center gap-1 mb-2">
                            ${jogo.digitos.map(digito => `<div class="digito-jogo">${digito}</div>`).join('')}
                        </div>
                        <div class="text-sm text-gray-600">
                            ${jogoTexto} - ${formatarMoeda(jogo.custo)} - Ganha com 3, 4, 5, 6, 7 acertos
                            ${jogo.origem ? `<span class="text-orange-600"> | ${jogo.origem}</span>` : ''}
                        </div>
                    `;
                }
                
                lista.appendChild(jogoDiv);
            });
        }

        function removerJogo(id) {
            showCustomConfirm('Tem certeza que deseja excluir este jogo?', () => {
                meusJogos = meusJogos.filter(jogo => jogo.id !== id);
                atualizarVisualizacaoJogos();
                atualizarCustoTotal();
                showCustomAlert('‚úÖ Removido', 'Jogo exclu√≠do!');
            });
        }

        function limparTodosJogos() {
            if (meusJogos.length === 0) return;
            
            showCustomConfirm('Tem certeza que deseja remover todos os jogos?', () => {
                meusJogos = [];
                atualizarVisualizacaoJogos();
                atualizarCustoTotal();
            });
        }

        function atualizarCustoTotal() {
            const total = meusJogos.reduce((sum, jogo) => sum + jogo.custo, 0);
            document.getElementById('custoTotal').textContent = formatarMoeda(total);
            document.getElementById('totalJogos').textContent = meusJogos.length;
        }

        // ===== DOWNLOADS =====

        function downloadJogos(formato) {
            if (meusJogos.length === 0) {
                showCustomAlert('‚ö†Ô∏è Sem Jogos', 'Adicione jogos primeiro!');
                return;
            }
            
            switch (formato) {
                case 'txt': downloadTXT(); break;
                case 'html': downloadHTML(); break;
                case 'xlsx': downloadXLSX(); break;
            }
        }

        function downloadTXT() {
            let txt = '';
            meusJogos.forEach((jogo, index) => {
                txt += jogo.digitos.join('|');
                if (index < meusJogos.length - 1) txt += '\n';
            });
            baixarArquivo(txt, 'supersete-jogos.txt', 'text/plain');
        }

        function downloadHTML() {
            const total = meusJogos.reduce((sum, jogo) => sum + jogo.custo, 0);
            const data = new Date().toLocaleDateString('pt-BR');
            
            let html = `<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Super Sete - Meus Jogos</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f6faeb; }
        .header { text-align: center; margin-bottom: 30px; color: #A9CF46; }
        .jogo { margin: 10px 0; padding: 15px; border: 2px solid #A9CF46; border-radius: 8px; background: white; }
        .digito { display: inline-block; width: 35px; height: 35px; background: #A9CF46; color: #405115; 
                 border-radius: 50%; text-align: center; line-height: 35px; margin: 0 2px; font-weight: bold; font-size: 14px; }
        .colunas { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; margin: 10px 0; }
        .coluna { text-align: center; }
        .coluna-titulo { font-size: 10px; font-weight: bold; color: #708E25; margin-bottom: 4px; }
        .total { text-align: center; margin-top: 20px; font-size: 18px; font-weight: bold; color: #A9CF46; }
    </style>
</head>
<body>
    <div class="header">
        <h1>üéØ SUPER SETE - MEUS JOGOS</h1>
        <p>Gerado em: ${data}</p>
        <p><strong>Ganha com 3, 4, 5, 6 ou 7 acertos nas posi√ß√µes!</strong></p>
    </div>`;
            
            meusJogos.forEach((jogo, index) => {
                html += `
    <div class="jogo">
        <h3>Jogo ${index + 1} - 7 d√≠gitos - ${formatarMoeda(jogo.custo)}</h3>
        <div class="colunas">
            ${jogo.digitos.map((digito, coluna) => `
                <div class="coluna">
                    <div class="coluna-titulo">COL ${coluna+1}</div>
                    <div class="digito">${digito}</div>
                </div>
            `).join('')}
        </div>
        <div style="font-size: 12px; color: #666; margin-top: 5px; text-align: center;">
            ${jogo.digitos.join('|')} | ${jogo.pares} pares, ${jogo.impares} √≠mpares
            ${jogo.origem ? ` | Origem: ${jogo.origem}` : ''}
        </div>
    </div>`;
            });
            
            html += `
    <div class="total">
        Total: ${meusJogos.length} jogo(s) - ${formatarMoeda(total)}<br>
        <small>7 colunas com 1 d√≠gito (0-9) cada</small>
    </div>
</body>
</html>`;
            
            baixarArquivo(html, 'supersete-jogos.html', 'text/html');
        }

        function downloadXLSX() {
            const dados = [
                ['Jogo', 'C1', 'C2', 'C3', 'C4', 'C5', 'C6', 'C7', 'D√≠gitos (Texto)', 'Pares', '√çmpares', 'Custo', 'Origem']
            ];
            
            meusJogos.forEach((jogo, index) => {
                dados.push([
                    `Jogo ${index + 1}`,
                    jogo.digitos[0],
                    jogo.digitos[1],
                    jogo.digitos[2],
                    jogo.digitos[3],
                    jogo.digitos[4],
                    jogo.digitos[5],
                    jogo.digitos[6],
                    jogo.digitos.join('|'),
                    jogo.pares,
                    jogo.impares,
                    jogo.custo,
                    jogo.origem || 'Manual'
                ]);
            });
            
            const total = meusJogos.reduce((sum, jogo) => sum + jogo.custo, 0);
            dados.push(['', '', '', '', 'TOTAL:', '', '', '', '', '', '', total, '']);
            
            const ws = XLSX.utils.aoa_to_sheet(dados);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, 'Super Sete');
            XLSX.writeFile(wb, 'supersete-jogos.xlsx');
        }

        // ===== FUN√á√ïES AUXILIARES =====

        function formatarMoeda(valor) {
            return new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
            }).format(valor);
        }

        function baixarArquivo(conteudo, nomeArquivo, tipoMime) {
            const blob = new Blob([conteudo], { type: tipoMime });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = nomeArquivo;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        function showCustomAlert(titulo, mensagem) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white p-6 rounded-lg shadow-lg max-w-sm w-full mx-4">
                    <h3 class="font-bold text-supersete mb-2">${titulo}</h3>
                    <p class="text-gray-700 mb-4" style="white-space: pre-line;">${mensagem}</p>
                    <div class="flex justify-end">
                        <button class="px-4 py-2 bg-blue-500 text-white hover:bg-blue-600 rounded" onclick="this.closest('.fixed').remove()">OK</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function showCustomConfirm(message, onConfirm) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            
            const modalContent = document.createElement('div');
            modalContent.className = 'bg-white p-6 rounded-lg shadow-lg max-w-sm w-full mx-4';
            
            const messageEl = document.createElement('p');
            messageEl.className = 'text-gray-700 mb-4';
            messageEl.style.whiteSpace = 'pre-line';
            messageEl.textContent = message;
            
            const buttonsDiv = document.createElement('div');
            buttonsDiv.className = 'flex justify-end space-x-3';
            
            const cancelBtn = document.createElement('button');
            cancelBtn.className = 'px-4 py-2 text-gray-600 hover:bg-gray-100 rounded';
            cancelBtn.textContent = 'Cancelar';
            cancelBtn.onclick = () => modal.remove();
            
            const confirmBtn = document.createElement('button');
            confirmBtn.className = 'px-4 py-2 bg-red-500 text-white hover:bg-red-600 rounded';
            confirmBtn.textContent = 'Confirmar';
            confirmBtn.onclick = () => {
                modal.remove();
                onConfirm();
            };
            
            buttonsDiv.appendChild(cancelBtn);
            buttonsDiv.appendChild(confirmBtn);
            modalContent.appendChild(messageEl);
            modalContent.appendChild(buttonsDiv);
            modal.appendChild(modalContent);
            document.body.appendChild(modal);
        }

        // ===== FUN√á√ïES PARA JOGOS MINIMALISTAS =====

        function editarJogoMinimalistaPorId(id) {
            if (!window.jogosMinimalistasGerados || window.jogosMinimalistasGerados.length === 0) {
                showCustomAlert('‚ö†Ô∏è Erro', 'Lista de jogos n√£o encontrada ou vazia!');
                return;
            }
            
            const jogo = window.jogosMinimalistasGerados.find(j => j.id.toString() === id.toString());
            if (!jogo) {
                showCustomAlert('‚ö†Ô∏è Erro', 'Jogo n√£o encontrado!');
                return;
            }
            
            showCustomConfirm(
                `Deseja editar este jogo?\n\nD√≠gitos: ${jogo.digitos.join('|')}\n\nOs d√≠gitos ser√£o carregados na se√ß√£o manual para edi√ß√£o.`, 
                () => {
                    // Limpar sele√ß√£o atual
                    limparSelecao();
                    
                    // Carregar d√≠gitos na sele√ß√£o
                    jogo.digitos.forEach((digito, coluna) => {
                        digitosSelecionados[coluna] = digito;
                        const btn = document.querySelector(`[data-coluna="${coluna+1}"][data-digito="${digito}"]`);
                        if (btn) btn.classList.add('selecionado');
                    });
                    
                    // Atualizar visualiza√ß√£o
                    atualizarStatusColunas();
                    validarBotaoAdicionar();
                    
                    // Remover jogo da lista minimalista
                    window.jogosMinimalistasGerados = window.jogosMinimalistasGerados.filter(j => j.id.toString() !== id.toString());
                    exibirJogosMinimalistas(window.jogosMinimalistasGerados);
                    
                    // Rolar para a se√ß√£o manual
                    document.querySelector('#coluna1').scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'center' 
                    });
                    
                    showCustomAlert('‚úÖ Jogo Carregado', `7 d√≠gitos carregados na se√ß√£o manual!\n\nVoc√™ pode edit√°-los e adicionar novamente.`);
                }
            );
        }

        function excluirJogoMinimalistaPorId(id) {
            if (!window.jogosMinimalistasGerados || window.jogosMinimalistasGerados.length === 0) {
                showCustomAlert('‚ö†Ô∏è Erro', 'Lista de jogos n√£o encontrada ou vazia!');
                return;
            }
            
            const jogo = window.jogosMinimalistasGerados.find(j => j.id.toString() === id.toString());
            if (!jogo) {
                showCustomAlert('‚ö†Ô∏è Erro', 'Jogo n√£o encontrado!');
                return;
            }
            
            showCustomConfirm(
                `Tem certeza que deseja excluir este jogo?\n\nD√≠gitos: ${jogo.digitos.join('|')}`, 
                () => {
                    // Remover jogo da lista
                    window.jogosMinimalistasGerados = window.jogosMinimalistasGerados.filter(j => j.id.toString() !== id.toString());
                    
                    // Atualizar exibi√ß√£o
                    if (window.jogosMinimalistasGerados.length === 0) {
                        document.getElementById('resultadosMin').classList.add('hidden');
                        showCustomAlert('‚úÖ Lista Vazia', 'Todos os jogos foram removidos. Gere novos jogos quando desejar!');
                    } else {
                        exibirJogosMinimalistas(window.jogosMinimalistasGerados);
                        showCustomAlert('‚úÖ Exclu√≠do', 'Jogo removido da lista!');
                    }
                }
            );
        }
    </script>
</body>
</html>